# Helix AI Gateway Environment Configuration
# Copy this file to .env and fill in your actual values

# ==============================================
# CORE HELIX CONFIGURATION
# ==============================================
# Enable Helix features
HELIX_ENABLED=true

# Redis Configuration (required for caching and vector search)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your_redis_password

# PostgreSQL Configuration (required for persistent data)
DATABASE_URL=postgresql://helix:your_postgres_password@postgres:5432/helix
POSTGRES_PASSWORD=your_postgres_password

# Master key for LiteLLM proxy (generate a secure random string)
MASTER_KEY=your_very_secure_master_key_here

# ==============================================
# LLM PROVIDER API KEYS
# ==============================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Groq
GROQ_API_KEY=gsk_your-groq-api-key-here

# Google AI
GOOGLE_API_KEY=your-google-api-key-here

# Cohere
COHERE_API_KEY=your-cohere-api-key-here

# Azure OpenAI
AZURE_API_KEY=your-azure-api-key-here
AZURE_API_BASE=https://your-resource.openai.azure.com/

# Hugging Face
HUGGINGFACE_API_KEY=your-huggingface-api-key-here

# ==============================================
# MONITORING & OBSERVABILITY
# ==============================================
# Langfuse (optional but recommended)
LANGFUSE_PUBLIC_KEY=your-langfuse-public-key
LANGFUSE_SECRET_KEY=your-langfuse-secret-key
LANGFUSE_HOST=https://cloud.langfuse.com

# Datadog (optional)
DATADOG_API_KEY=your-datadog-api-key

# OpenTelemetry (optional)
OTEL_ENDPOINT=http://otel-collector:4317

# ==============================================
# HELIX FEATURE CONFIGURATION
# ==============================================
# Semantic Caching Settings
HELIX_SEMANTIC_CACHE_ENABLED=true
HELIX_SIMILARITY_THRESHOLD=0.88
HELIX_EMBEDDING_MODEL=all-MiniLM-L6-v2
HELIX_CACHE_TTL=2592000
HELIX_MAX_CACHE_SIZE=1000000

# PII Protection Settings
HELIX_PII_PROTECTION_ENABLED=true
HELIX_PII_STRICT_MODE=true
HELIX_PII_CONFIDENCE_THRESHOLD=0.8
HELIX_PII_REDACTION_METHOD=redact

# Cost Optimization Settings
HELIX_COST_OPTIMIZATION_ENABLED=true
HELIX_MODEL_SWAPPING_ENABLED=true
HELIX_BUDGET_ALERTS_ENABLED=true
HELIX_REAL_TIME_TRACKING=true

# Dashboard Settings
HELIX_DASHBOARD_ENABLED=true
DASHBOARD_PORT=8501
DASHBOARD_REFRESH_INTERVAL=5

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# Grafana admin password
GRAFANA_PASSWORD=your_secure_grafana_password

# JWT Settings (if using JWT authentication)
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# SSL Configuration (for production)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ==============================================
# NETWORK CONFIGURATION
# ==============================================
# Helix Proxy
PROXY_HOST=0.0.0.0
PROXY_PORT=4000

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DATABASE=0

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=helix
POSTGRES_USER=helix

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
NGINX_PORT=80
NGINX_SSL_PORT=443

# ==============================================
# PERFORMANCE CONFIGURATION
# ==============================================
# Proxy Settings
PROXY_REQUEST_TIMEOUT=300
PROXY_MAX_REQUEST_SIZE=10485760
PROXY_MAX_CONNECTIONS=1000

# Cache Settings
CACHE_DEFAULT_TTL=3600
CACHE_MAX_TTL=86400
CACHE_BATCH_SIZE=100
CACHE_BATCH_TIMEOUT=5

# Vector Search Settings
VECTOR_M_PARAMETER=16
VECTOR_EF_CONSTRUCTION=200
VECTOR_EF_RUNTIME=50
VECTOR_DIMENSIONS=384

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
HELIX_DEBUG=false

# Logging destinations
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_FILE_PATH=/app/logs/helix.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Structured logging
STRUCTURED_LOGGING=true
LOG_CORRELATION_ID=true
LOG_REQUEST_ID=true

# ==============================================
# RATE LIMITING
# ==============================================
# Global rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# Per-user rate limiting
USER_RATE_LIMIT_REQUESTS_PER_MINUTE=100
USER_RATE_LIMIT_BURST_SIZE=20

# ==============================================
# BUDGET CONFIGURATION
# ==============================================
# Default budget limits
DEFAULT_DAILY_BUDGET=1000.0
DEFAULT_MONTHLY_BUDGET=30000.0
DEFAULT_PER_REQUEST_LIMIT=10.0

# Budget alert thresholds
BUDGET_WARNING_THRESHOLD=70
BUDGET_CRITICAL_THRESHOLD=90
BUDGET_BLOCK_THRESHOLD=100

# ==============================================
# ALERTING CONFIGURATION
# ==============================================
# Email alerts (requires SMTP configuration)
ALERT_EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ALERT_EMAIL_RECIPIENTS=admin@yourcompany.com,ops@yourcompany.com

# Slack alerts
SLACK_WEBHOOK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Webhook alerts
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://your-webhook-endpoint.com/alerts
WEBHOOK_SECRET=your-webhook-secret

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================
# Development mode
DEVELOPMENT_MODE=false
DEBUG_ENDPOINTS=false
HOT_RELOAD=false

# Test API keys (for development only)
TEST_OPENAI_API_KEY=sk-test-key
TEST_ANTHROPIC_API_KEY=sk-ant-test-key

# ==============================================
# COMPLIANCE & AUDITING
# ==============================================
# Data retention
DATA_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365
PII_LOG_RETENTION_DAYS=1095

# GDPR compliance
GDPR_ANONYMIZATION=true
DATA_SUBJECT_REQUEST_EMAIL=privacy@yourcompany.com

# Compliance regions
COMPLIANCE_REGIONS=US,EU,APAC
DATA_RESIDENCY=US

# ==============================================
# EXPERIMENTAL FEATURES
# ==============================================
# Enable experimental features (use with caution)
EXPERIMENTAL_FEATURES=false
BETA_FEATURES=false

# Machine learning optimizations
ML_OPTIMIZATION_ENABLED=false
MODEL_PERFORMANCE_TRACKING=false

# Advanced caching
ADAPTIVE_CACHE_STRATEGY=false
PREDICTIVE_PREFETCHING=false

# ==============================================
# BACKUP & RECOVERY
# ==============================================
# Backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-west-2
BACKUP_RETENTION_DAYS=30

# Disaster recovery
DISASTER_RECOVERY_ENABLED=false
DR_REGION=eu-west-1
DR_REPLICATION_ENABLED=false

# ==============================================
# CUSTOM INTEGRATIONS
# ==============================================
# Custom authentication provider
CUSTOM_AUTH_PROVIDER=none
CUSTOM_AUTH_ENDPOINT=

# Custom model provider
CUSTOM_MODEL_PROVIDER=none
CUSTOM_MODEL_ENDPOINT=

# Custom metrics
CUSTOM_METRICS_ENDPOINT=
CUSTOM_METRICS_API_KEY=

# ==============================================
# THIRD-PARTY INTEGRATIONS
# ==============================================
# AWS (if using AWS services)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-2
AWS_S3_BUCKET=your-s3-bucket

# Google Cloud (if using GCP services)
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
GOOGLE_PROJECT_ID=your-gcp-project
GOOGLE_BUCKET_NAME=your-gcs-bucket

# Azure (if using Azure services)
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id